#!/usr/bin/env yarn run repl -s

-- Interest rate model
Gate (InterestRateModel InterestRateModel Address) (InterestRateModel Deploy Whitepaper WhitepaperInterestRate 0.05 0.45)

-- Deploy some ERC-20 faucet tokens
Gate (Erc20 USDC Address) (Erc20 Deploy Standard USDC "USD Coin" 18)
Gate (Erc20 USDT Address) (Erc20 Deploy Standard USDT "Tether USD" 18)
Gate (Erc20 BTCK Address) (Erc20 Deploy Standard BTCK "Wrapped Bitcoin" 18)
Gate (Erc20 ETH Address) (Erc20 Deploy Standard ETH "Wrapped Ether" 18)

-- Deploy CToken delegates
Gate (CTokenDelegate USDCDelegate Address) (CTokenDelegate Deploy CErc20Delegate USDCDelegate)
Gate (CTokenDelegate USDTDelegate Address) (CTokenDelegate Deploy CErc20Delegate USDTDelegate)
Gate (CTokenDelegate BTCKDelegate Address) (CTokenDelegate Deploy CErc20Delegate BTCKDelegate)
Gate (CTokenDelegate ETHDelegate Address) (CTokenDelegate Deploy CErc20Delegate ETHDelegate)

-- Deploy cTokens delegators
Gate (CToken cUSDC Address) (CToken Deploy CErc20Delegator cUSDC "USD Coin" (Erc20 USDC Address) (Comptroller Address) (InterestRateModel WhitepaperInterestRate Address) 1e10 8 Admin (CTokenDelegate USDCDelegate Address) "0x0")
Gate (CToken cUSDT Address) (CToken Deploy CErc20Delegator cUSDT "Tether USD" (Erc20 USDT Address) (Comptroller Address) (InterestRateModel WhitepaperInterestRate Address) 1e10 8 Admin (CTokenDelegate USDTDelegate Address) "0x0")
Gate (CToken cBTCK Address) (CToken Deploy CErc20Delegator cBTCK "Wrapped Bitcoin" (Erc20 BTCK Address) (Comptroller Address) (InterestRateModel WhitepaperInterestRate Address) 1e10 8 Admin (CTokenDelegate BTCKDelegate Address) "0x0")
Gate (CToken cETH Address) (CToken Deploy CErc20Delegator cETH "Ether" (Erc20 ETH Address) (Comptroller Address) (InterestRateModel WhitepaperInterestRate Address) 1e10 8 Admin (CTokenDelegate ETHDelegate Address) "0x0")

-- Deploy Maximillion
-- Gate (Maximillion Address) (Maximillion Deploy cETH)

-- Set price oracle
FeedPriceOracle SetFixedPrice (CToken cUSDC Address) 1e36
FeedPriceOracle SetFixedPrice (CToken cUSDT Address) 1e36
FeedPriceOracle SetWitnetFeed (CToken cBTCK Address) "0x7bedADcb912F7A0b8E5C4269C670C55D961B4654" 18 6
FeedPriceOracle SetWitnetFeed (CToken cETH Address) "0xc2C7609090e14F8a69dF6081e385b205D4a9cd9a" 18 6

-- Support market
Comptroller SupportMarket (CToken cUSDC Address) 3
Comptroller SupportMarket (CToken cUSDT Address) 3
Comptroller SupportMarket (CToken cBTCK Address) 1
Comptroller SupportMarket (CToken cETH Address) 2

Print "Deployed cTokens: cUSDC, cUSDT, cBTCK, cETH"
